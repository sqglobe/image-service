# image-service

Проект представляет из себя http-сервис, который получает два изображения, одно масштабируется к статически заданным размерам,
а второе используется как водяной знак и накладывается на первое.

## http-сервис

Сервис обрабатывает запросы по адресу **http://localhost:3210/watermark**. Входящие запросы должны иметь тип **multipart/form-data**
и состоять из двух частей:

- с именем `image`  - картинка, которая масштабируется и используется как фон к водяному знаку. Обязателен формат **jpeg**.
- с именем `watermark` - водяной знак, который накладывается плиткой на первое изображение. Формат - **png**.

В случае успеха сервис возвратит **200** и сообщение с путем, в котором сохранен результат (результат сохраняется в папке **/tmp**).

Код сервера помещен в файл  `cmd/server/main.go`.

Результат работы помещен в `examples/4fa1a753-2625-4f4d-8db8-bef47829ceef.png`.

## Клиент

Для целей тестирования вместе с сервисом распространяется консольный клиент, которой получает в качестве аргументов изображения, формирует и
отправляет запрос, выводит пользователю полученные сообщения от сервера.

Запуск клиента:

```
./client <image> <watermark>
```

Где:

-  `image`  изображение в формате **jpeg**, которое будет масштабировано;
-  `watermark`  - изображение в формате **png**, которое используется как водяной знак и накладывается плиткой на первое.

Пример запуска:

```
./client examples/JPEG_example_down.jpg examples/small-watermark.png
```

Исходный код клиента находится в файле  `cmd/client/main.go`.

## Сборка

Для сбобоки сервиса достаточно выполнить команду в папке с проектом:

```
go build ./cmd/server
```

Для сборки клиеннта может быть использована команда:

```
go build ./cmd/client
```
